### 사용툴팁 > 다중처리(Multiprocess) 워크플로우 작성



------

#### 목록

------

1. BRIQUE Analytics에서 다중처리의 의미
2. 라이브러리 작성
3. 워크플로우 작성 및 실행



------

#### 1. BRIQUE Analytics에서 다중처리의 의미

현재 BRIQUE Analytics에서는 python의 Multi Processing 패키지를 사용할 수 없지만, 대신 워크플로우에 동일 라이브러리를 여러개 삽입하여 동시에 실행 될 수 있도록 지원하고 있습니다

Attribute 값을 이용하여 각각의 타스크가 각기 다른 데이터를 처리하도록 하면 워크플로우의 실행시간을 줄여 다중처리를 구현할 수 있습니다

다음의 설명은 가이드로써 사용자가 다양한 방법으로 변형 및 활용할 수 있습니다.



------

#### 2. 라이브러리 작성

이전 노드에서 전달 받은 카테고리 내부의 파일 개수와 크기를 합산하여 출력하는 라이브러리를 작성합니다

워크플로우에 사용된 해당 라이브러리의 개수와, 이 노드의 순서를 입력받아 계산할 파일들의 인덱스를 계산하여 합산에 계산한 인덱스를 사용하도록 합니다



- Attribute 등록

  워크 플로우에서 해당 라이브러리가 총 몇 개가 사용되었는지, 그리고 이 태스크는 몇 번째 인지 입력받는 Attribute를 등록합니다

  ![](./img/사용툴팁_03_다중처리(Multiprocess)_워크플로우작성-01.png)

  

- 스크립트 작성

  ![](./img/사용툴팁_03_다중처리(Multiprocess)_워크플로우작성-02.png)

  

- 노드 별 처리할 데이터 수 계산

  ![](./img/사용툴팁_03_다중처리(Multiprocess)_워크플로우작성-03.png)

  

- 노드 별 처리할 인덱스 계산

  ![](./img/사용툴팁_03_다중처리(Multiprocess)_워크플로우작성-04.png)



------

#### 3. 워크플로우 작성 및 실행



- 워크플로우 작성

  동일한 라이브러리 5개를 병렬로 배치하여 워크플로우를 작성합니다

  ![](./img/사용툴팁_03_다중처리(Multiprocess)_워크플로우작성-05.png)

  

- Attribute 값 설정

  각 라이브러리를 클릭하여 해당 라이브러리의 순서를 입력합니다

  ![](./img/사용툴팁_03_다중처리(Multiprocess)_워크플로우작성-06.png)

  

- Mandatory  Attribute 확인

  워크플로우 편집 영역의 빈 공간을 클릭하여, 우측 Mandatory Attribute 목록에 각 노드의 Attribute 값이 순서대로 입력된 것을 확인 할 수 있습니다

  ![](./img/사용툴팁_03_다중처리(Multiprocess)_워크플로우작성-07.png)

  

- 실행 완료

  워크플로우 실행 후, 콘솔 메시지를 통해, 노드 순서 별로 동일한 디렉토리에서 다른 인덱스가 적용되어 처리되었음을 확인 할 수 있으며,

  ![](./img/사용툴팁_03_다중처리(Multiprocess)_워크플로우작성-08.png)

  

- 각 라이브러리 노드를 클릭하여, 각 노드별 다른 인덱스가 적용되어 처리된 것을 확인 할 수 있습니다

  ![](./img/사용툴팁_03_다중처리(Multiprocess)_워크플로우작성-09.png)

  

  ![](./img/사용툴팁_03_다중처리(Multiprocess)_워크플로우작성-10.png)



